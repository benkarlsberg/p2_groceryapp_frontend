<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="css/bootstrap.css">
  <link rel="stylesheet" href="css/styles.css">
  <title>Test HTML</title>
</head>
<body>
  <h1>This is a test page</h1>
  <button onclick="getCartItem()">Get Cart Item</button>


  <table class="table table-bordered table-striped table-hover" style="width: 50%;">
    <tr>
        <td>Name</td>
        <td id="item_name">-</td>
    </tr>
</table>

<button onclick="getAllCartItems()">Get Cart Item</button>
<br><br>
<span id = "t"></span>
<!-- 
<button onclick="document.getElementById('allItems').innerHTML = getAllCartItems()">Get Cart Item</button>
<p id="allItems"></p> -->

</body>


<script>
  async function getCartItem() {
    const httpResponse = await fetch("http://localhost:8080/item/1");
    const body = await httpResponse.json();
    
    console.log(body);
    console.log(body.username);
    
    extract(body);
  }

  async function getAllCartItems(){
    let id = 4;
    code = "test";
    let myTable = '<table class="table table-bordered table-striped table-hover" style="width: 50%;">';
    document.getElementById('t').innerHTML =  myTable;
    for (let i = 0; i <= id; i++){
      myTable += '<tr> <td>Name</td><td id = "item_name">TEST</td> </tr>'
      console.log(i);
    }
    document.getElementById('t').innerHTML += myTable;
    document.getElementById('t').innerHTML += '</table>';
    // document.getElementById("t").innerHTML = myTable;
  }

  function extract(body) {
        document.getElementById("item_name").innerHTML = body.item_name;
    }


</script>
</html>